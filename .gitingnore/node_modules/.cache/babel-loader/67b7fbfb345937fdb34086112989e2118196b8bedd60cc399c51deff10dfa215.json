{"ast":null,"code":"import _slicedToArray from\"C:/Users/ocero/Documents/clone/clone-inlinked/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./Feed.css';import CreateIcon from'@mui/icons-material/Create';import InputOptions from'./InputOptions';import ImageIcon from'@mui/icons-material/Image';import SubscriptionsIcon from'@mui/icons-material/Subscriptions';import EventNoteIcon from'@mui/icons-material/EventNote';import CalendarViewDayIcon from'@mui/icons-material/CalendarViewDay';import Posts from'./Posts';import{db,auth}from'./firebase';import firebase from'firebase/compat/app';import{useSelector}from'react-redux';import{selectUser}from'./features/userSlice';import FlipMove from'react-flip-move';//for coming inout when we post animation u gotta yarn add it\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Feed=function Feed(){var user=useSelector(selectUser);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];useEffect(function(){//creates a real time listener to firebase if post change we update it \ndb.collection('posts').orderBy('timestamp','desc')//order in descending order from the timestamp\n.onSnapshot(function(snapshot){setPosts(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});},[]);var sendPost=function sendPost(e){e.preventDefault();db.collection('posts').add({name:user.displayName,description:user.email,message:input,photoUrl:user.photoUrl||'',timestamp:firebase.firestore.FieldValue.serverTimestamp()});setInput('');//clears input text\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"feed\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feed__inputContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feed__input\",children:[/*#__PURE__*/_jsx(CreateIcon,{}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:function onChange(e){setInput(e.target.value);},type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendPost,type:\"submit\",children:\"Send\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feed__inputOptions\",children:[/*#__PURE__*/_jsx(InputOptions,{Icon:ImageIcon,title:\"Photo\",color:\"#70B5F9\"}),/*#__PURE__*/_jsx(InputOptions,{Icon:SubscriptionsIcon,title:\"Video\",color:\"#E7A33E\"}),/*#__PURE__*/_jsx(InputOptions,{Icon:EventNoteIcon,title:\"Event\",color:\"#C0CBCD\"}),/*#__PURE__*/_jsx(InputOptions,{Icon:CalendarViewDayIcon,title:\"Write article\",color:\"#7FC15E\"})]})]}),/*#__PURE__*/_jsx(FlipMove,{children:posts.map(function(_ref){var id=_ref.id,_ref$data=_ref.data,name=_ref$data.name,description=_ref$data.description,message=_ref$data.message,photoUrl=_ref$data.photoUrl;return/*#__PURE__*/_jsx(Posts,{name:name,description:description,message:message,photoUrl:photoUrl},id);})})]});};export default Feed;","map":{"version":3,"names":["React","useState","useEffect","CreateIcon","InputOptions","ImageIcon","SubscriptionsIcon","EventNoteIcon","CalendarViewDayIcon","Posts","db","auth","firebase","useSelector","selectUser","FlipMove","jsx","_jsx","jsxs","_jsxs","Feed","user","_useState","_useState2","_slicedToArray","posts","setPosts","_useState3","_useState4","input","setInput","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","sendPost","e","preventDefault","add","name","displayName","description","email","message","photoUrl","timestamp","firestore","FieldValue","serverTimestamp","className","children","value","onChange","target","type","onClick","Icon","title","color","_ref","_ref$data"],"sources":["C:/Users/ocero/Documents/clone/clone-inlinked/src/Feed.js"],"sourcesContent":["import React, { useState, useEffect }  from 'react'\r\nimport './Feed.css'\r\nimport CreateIcon from '@mui/icons-material/Create';\r\nimport InputOptions from './InputOptions'\r\nimport ImageIcon from '@mui/icons-material/Image';\r\nimport SubscriptionsIcon from '@mui/icons-material/Subscriptions';\r\nimport EventNoteIcon from '@mui/icons-material/EventNote';\r\nimport CalendarViewDayIcon from '@mui/icons-material/CalendarViewDay';\r\nimport Posts from './Posts'\r\nimport { db, auth } from './firebase'\r\nimport firebase from 'firebase/compat/app';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectUser } from './features/userSlice';\r\nimport FlipMove from 'react-flip-move' //for coming inout when we post animation u gotta yarn add it\r\n\r\nconst Feed = () => {\r\n\r\n  const user = useSelector(selectUser)\r\n  const [posts, setPosts] = useState([])\r\n  const [input, setInput] = useState('')\r\n\r\n  useEffect(() => {\r\n    //creates a real time listener to firebase if post change we update it \r\n    db.collection('posts')\r\n      .orderBy('timestamp', 'desc') //order in descending order from the timestamp\r\n      .onSnapshot(snapshot => {\r\n        setPosts(snapshot.docs.map(doc => (\r\n          {\r\n            id: doc.id,\r\n            data: doc.data()\r\n          }\r\n        )))\r\n      })\r\n  }, [])\r\n\r\n  const sendPost = (e) => {\r\n    e.preventDefault()\r\n\r\n    db.collection('posts')\r\n      .add({\r\n        name: user.displayName,\r\n        description: user.email,\r\n        message: input,\r\n        photoUrl: user.photoUrl || '',\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n      })\r\n    setInput('')//clears input text\r\n  }\r\n\r\n  return (\r\n    <div className='feed'>\r\n        <div className='feed__inputContainer'>\r\n            <div className='feed__input'>\r\n              <CreateIcon />\r\n              <form>\r\n                <input \r\n                  value={input}  \r\n                  onChange = { e => {\r\n                    setInput(e.target.value)\r\n                  }}\r\n                  type='text' \r\n                />\r\n            <button onClick={ sendPost } type='submit'>Send</button>\r\n              </form>\r\n            </div>\r\n            \r\n            <div className='feed__inputOptions'>\r\n              <InputOptions Icon={ImageIcon} title='Photo' color='#70B5F9' />\r\n              <InputOptions Icon={SubscriptionsIcon} title='Video' color='#E7A33E' />\r\n              <InputOptions Icon={EventNoteIcon} title='Event' color='#C0CBCD' />\r\n              <InputOptions Icon={CalendarViewDayIcon} title='Write article' color='#7FC15E'/>\r\n            </div>\r\n        </div>\r\n        {/* Posts */}\r\n        <FlipMove>\r\n          {\r\n            posts.map(({ id, data: { name, description, message, photoUrl }}) => (\r\n              <Posts \r\n                key={id}\r\n                name={name}\r\n                description={description}\r\n                message={message}\r\n                photoUrl={photoUrl}\r\n              />\r\n            ))\r\n          }\r\n        </FlipMove>\r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Feed"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}